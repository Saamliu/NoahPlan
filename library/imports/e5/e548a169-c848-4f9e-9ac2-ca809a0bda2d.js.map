{"version":3,"sources":["assets\\script\\EnemyBullet.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAEhF,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAyC,+BAAY;IAArD;QAAA,qEAuCC;QAjCG,WAAK,GAAW,GAAG,CAAA;;IAiCvB,CAAC;IA/BG,4BAAM,GAAN;QACI,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC;QAChD,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;IACrD,CAAC;IAED,UAAU;IACV,kCAAY,GAAZ,UAAa,SAAkB;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC/B,CAAC;IAED,4BAAM,GAAN,UAAO,EAAE;QACL,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,OAAO;SACV;QAED,aAAa;QACb,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAElD,iBAAiB;QACjB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE;YAChI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;IACL,CAAC;IAED,sCAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QACxB,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,QAAQ,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;IACL,CAAC;IAhCD;QADC,QAAQ;8CACU;IANF,WAAW;QAD/B,OAAO;OACa,WAAW,CAuC/B;IAAD,kBAAC;CAvCD,AAuCC,CAvCwC,EAAE,CAAC,SAAS,GAuCpD;kBAvCoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class EnemyBullet extends cc.Component {\n\n    scrHeight: number;\n    direction: cc.Vec2; // 方向向量\n\n    @property\n    speed: number = 200\n\n    onLoad() {\n        this.scrHeight = cc.view.getCanvasSize().height;\n        cc.director.getCollisionManager().enabled = true;\n    }\n\n    // 设置子弹的方向\n    setDirection(direction: cc.Vec2) {\n        this.direction = direction;\n    }\n\n    update(dt) {\n        if (!this.direction) {\n            return;\n        }\n\n        // 根据方向向量移动子弹\n        this.node.x += this.direction.x * this.speed * dt;\n        this.node.y += this.direction.y * this.speed * dt;\n\n        // 如果子弹超出屏幕范围，销毁它\n        if (this.node.x > this.scrHeight || this.node.x < -this.scrHeight || this.node.y > this.scrHeight || this.node.y < -this.scrHeight) {\n            this.node.removeFromParent(true);\n            this.destroy();\n        }\n    }\n\n    onCollisionEnter(other, self) {\n        if (other.node.group === 'Player') {\n            this.node.destroy();\n        }\n    }\n}\n\n"]}